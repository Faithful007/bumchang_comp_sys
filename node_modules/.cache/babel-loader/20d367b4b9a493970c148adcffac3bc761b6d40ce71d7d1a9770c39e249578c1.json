{"ast":null,"code":"// src/utils/speedGradeTables.js\n// Centralized registry and helpers for pollutant speed–grade f_iv tables.\n// Import JSON once here; use from anywhere via exported helpers.\n\nimport pmTable from \"./pmSpeedGradeFiv.json\";\nimport coTable from \"./coSpeedGradeFiv.json\";\nimport noxTable from \"./noxSpeedGradeFiv.json\";\n\n// Pollutant -> table mapping\nexport const SPEED_GRADE_TABLES = Object.freeze({\n  PM: pmTable,\n  CO: coTable,\n  NOx: noxTable\n});\n\n// Canonical vehicle classes (keys should be the same across pollutants)\nexport const VEHICLE_CLASSES = Object.freeze([{\n  key: \"gasoline_passenger\",\n  label: \"휘발유 승용차\"\n}, {\n  key: \"diesel_passenger\",\n  label: \"경유 승용차\"\n}, {\n  key: \"small_bus_truck\",\n  label: \"소형버스·소형트럭\"\n}, {\n  key: \"large_bus_and_heavy_truck\",\n  label: \"대형버스·중형·대형·특수트럭\"\n}]);\nexport function getTable(pollutant) {\n  const t = SPEED_GRADE_TABLES[pollutant];\n  if (!t) throw new Error(`Unknown pollutant table: ${pollutant}`);\n  return t;\n}\nexport function getSpeeds(pollutant) {\n  var _getTable$metadata;\n  return ((_getTable$metadata = getTable(pollutant).metadata) === null || _getTable$metadata === void 0 ? void 0 : _getTable$metadata.speeds_kmh) || [];\n}\nexport function getGrades(pollutant) {\n  var _getTable$metadata2;\n  return ((_getTable$metadata2 = getTable(pollutant).metadata) === null || _getTable$metadata2 === void 0 ? void 0 : _getTable$metadata2.grades_percent) || [];\n}\nexport function getVehicleClassesFromTable(pollutant) {\n  const tbl = getTable(pollutant);\n  return Object.keys(tbl.vehicle_classes || {});\n}\nexport function getFivGrid(pollutant, vehicleClassKey) {\n  var _tbl$vehicle_classes;\n  const tbl = getTable(pollutant);\n  const cls = (_tbl$vehicle_classes = tbl.vehicle_classes) === null || _tbl$vehicle_classes === void 0 ? void 0 : _tbl$vehicle_classes[vehicleClassKey];\n  if (!cls) throw new Error(`Unknown class ${vehicleClassKey} for ${pollutant}`);\n  return cls.fiv_table;\n}","map":{"version":3,"names":["pmTable","coTable","noxTable","SPEED_GRADE_TABLES","Object","freeze","PM","CO","NOx","VEHICLE_CLASSES","key","label","getTable","pollutant","t","Error","getSpeeds","_getTable$metadata","metadata","speeds_kmh","getGrades","_getTable$metadata2","grades_percent","getVehicleClassesFromTable","tbl","keys","vehicle_classes","getFivGrid","vehicleClassKey","_tbl$vehicle_classes","cls","fiv_table"],"sources":["C:/Users/USER/sourcecodes/auto-excel/comp-engine2/src/utils/speedGradeTables.js"],"sourcesContent":["// src/utils/speedGradeTables.js\r\n// Centralized registry and helpers for pollutant speed–grade f_iv tables.\r\n// Import JSON once here; use from anywhere via exported helpers.\r\n\r\nimport pmTable from \"./pmSpeedGradeFiv.json\";\r\nimport coTable from \"./coSpeedGradeFiv.json\";\r\nimport noxTable from \"./noxSpeedGradeFiv.json\";\r\n\r\n// Pollutant -> table mapping\r\nexport const SPEED_GRADE_TABLES = Object.freeze({\r\n  PM: pmTable,\r\n  CO: coTable,\r\n  NOx: noxTable\r\n});\r\n\r\n// Canonical vehicle classes (keys should be the same across pollutants)\r\nexport const VEHICLE_CLASSES = Object.freeze([\r\n  { key: \"gasoline_passenger\", label: \"휘발유 승용차\" },\r\n  { key: \"diesel_passenger\", label: \"경유 승용차\" },\r\n  { key: \"small_bus_truck\", label: \"소형버스·소형트럭\" },\r\n  { key: \"large_bus_and_heavy_truck\", label: \"대형버스·중형·대형·특수트럭\" }\r\n]);\r\n\r\nexport function getTable(pollutant) {\r\n  const t = SPEED_GRADE_TABLES[pollutant];\r\n  if (!t) throw new Error(`Unknown pollutant table: ${pollutant}`);\r\n  return t;\r\n}\r\n\r\nexport function getSpeeds(pollutant) {\r\n  return getTable(pollutant).metadata?.speeds_kmh || [];\r\n}\r\n\r\nexport function getGrades(pollutant) {\r\n  return getTable(pollutant).metadata?.grades_percent || [];\r\n}\r\n\r\nexport function getVehicleClassesFromTable(pollutant) {\r\n  const tbl = getTable(pollutant);\r\n  return Object.keys(tbl.vehicle_classes || {});\r\n}\r\n\r\nexport function getFivGrid(pollutant, vehicleClassKey) {\r\n  const tbl = getTable(pollutant);\r\n  const cls = tbl.vehicle_classes?.[vehicleClassKey];\r\n  if (!cls) throw new Error(`Unknown class ${vehicleClassKey} for ${pollutant}`);\r\n  return cls.fiv_table;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;;AAEA,OAAOA,OAAO,MAAM,wBAAwB;AAC5C,OAAOC,OAAO,MAAM,wBAAwB;AAC5C,OAAOC,QAAQ,MAAM,yBAAyB;;AAE9C;AACA,OAAO,MAAMC,kBAAkB,GAAGC,MAAM,CAACC,MAAM,CAAC;EAC9CC,EAAE,EAAEN,OAAO;EACXO,EAAE,EAAEN,OAAO;EACXO,GAAG,EAAEN;AACP,CAAC,CAAC;;AAEF;AACA,OAAO,MAAMO,eAAe,GAAGL,MAAM,CAACC,MAAM,CAAC,CAC3C;EAAEK,GAAG,EAAE,oBAAoB;EAAEC,KAAK,EAAE;AAAU,CAAC,EAC/C;EAAED,GAAG,EAAE,kBAAkB;EAAEC,KAAK,EAAE;AAAS,CAAC,EAC5C;EAAED,GAAG,EAAE,iBAAiB;EAAEC,KAAK,EAAE;AAAY,CAAC,EAC9C;EAAED,GAAG,EAAE,2BAA2B;EAAEC,KAAK,EAAE;AAAkB,CAAC,CAC/D,CAAC;AAEF,OAAO,SAASC,QAAQA,CAACC,SAAS,EAAE;EAClC,MAAMC,CAAC,GAAGX,kBAAkB,CAACU,SAAS,CAAC;EACvC,IAAI,CAACC,CAAC,EAAE,MAAM,IAAIC,KAAK,CAAC,4BAA4BF,SAAS,EAAE,CAAC;EAChE,OAAOC,CAAC;AACV;AAEA,OAAO,SAASE,SAASA,CAACH,SAAS,EAAE;EAAA,IAAAI,kBAAA;EACnC,OAAO,EAAAA,kBAAA,GAAAL,QAAQ,CAACC,SAAS,CAAC,CAACK,QAAQ,cAAAD,kBAAA,uBAA5BA,kBAAA,CAA8BE,UAAU,KAAI,EAAE;AACvD;AAEA,OAAO,SAASC,SAASA,CAACP,SAAS,EAAE;EAAA,IAAAQ,mBAAA;EACnC,OAAO,EAAAA,mBAAA,GAAAT,QAAQ,CAACC,SAAS,CAAC,CAACK,QAAQ,cAAAG,mBAAA,uBAA5BA,mBAAA,CAA8BC,cAAc,KAAI,EAAE;AAC3D;AAEA,OAAO,SAASC,0BAA0BA,CAACV,SAAS,EAAE;EACpD,MAAMW,GAAG,GAAGZ,QAAQ,CAACC,SAAS,CAAC;EAC/B,OAAOT,MAAM,CAACqB,IAAI,CAACD,GAAG,CAACE,eAAe,IAAI,CAAC,CAAC,CAAC;AAC/C;AAEA,OAAO,SAASC,UAAUA,CAACd,SAAS,EAAEe,eAAe,EAAE;EAAA,IAAAC,oBAAA;EACrD,MAAML,GAAG,GAAGZ,QAAQ,CAACC,SAAS,CAAC;EAC/B,MAAMiB,GAAG,IAAAD,oBAAA,GAAGL,GAAG,CAACE,eAAe,cAAAG,oBAAA,uBAAnBA,oBAAA,CAAsBD,eAAe,CAAC;EAClD,IAAI,CAACE,GAAG,EAAE,MAAM,IAAIf,KAAK,CAAC,iBAAiBa,eAAe,QAAQf,SAAS,EAAE,CAAC;EAC9E,OAAOiB,GAAG,CAACC,SAAS;AACtB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}