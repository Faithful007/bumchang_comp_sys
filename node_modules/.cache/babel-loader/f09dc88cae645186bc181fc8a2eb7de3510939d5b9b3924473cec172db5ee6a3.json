{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\sourcecodes\\\\auto-excel\\\\comp-engine2\\\\src\\\\modules\\\\trafficEstimation\\\\TrafficEstimationModule.jsx\",\n  _s = $RefreshSig$();\n// src/modules/trafficEstimation/TrafficEstimationModule.jsx\nimport React, { useState, useRef } from \"react\";\nimport { computeEstimatedTraffic, VEHICLE_KEYS } from \"./calculations\";\nimport { useLanguage } from \"../../i18n/LanguageContext\";\nimport { getModuleStrings } from \"../../i18n/appStrings\";\nimport { SMOKE_EMISSION_FACTORS_G_PER_KM_DEFAULT, SMOKE_VEHICLE_KEYS, computeSmokeQ0Map, SMOKE_REDUCTION_FACTOR, SMOKE_REFERENCE_SPEED_KMH } from \"../smoke/smokeParameters\";\nimport { parseCSV, readFileAsText, exportToCSV, downloadCSV, exportToPDF } from \"./dataImportExport\";\n\n// Default per-vehicle daily volumes (Excel example)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DEFAULT_DIRECTION_COUNTS = {\n  year: 2222,\n  passengerGasoline: 49804,\n  passengerDiesel: 33203,\n  busSmall: 0,\n  busLarge: 815,\n  truckSmall: 14331,\n  truckMedium: 3020,\n  truckLarge: 332,\n  truckSpecial: 862\n};\nexport default function TrafficEstimationModule() {\n  _s();\n  const {\n    lang\n  } = useLanguage();\n  const t = getModuleStrings(\"trafficEstimation\", lang);\n  const fileInputRef = useRef(null);\n  const [dir1, setDir1] = useState({\n    ...DEFAULT_DIRECTION_COUNTS\n  });\n  const [dir2, setDir2] = useState({\n    ...DEFAULT_DIRECTION_COUNTS\n  });\n  const [importMessage, setImportMessage] = useState(\"\");\n\n  // Batch processing states\n  const [importedData, setImportedData] = useState([]);\n  const [computedResults, setComputedResults] = useState([]);\n  const [hasUncomputedData, setHasUncomputedData] = useState(false);\n  const result1 = computeFromDirection(dir1);\n  const result2 = computeFromDirection(dir2);\n\n  // Handle file import\n  const handleFileImport = async event => {\n    var _event$target$files;\n    const file = (_event$target$files = event.target.files) === null || _event$target$files === void 0 ? void 0 : _event$target$files[0];\n    if (!file) return;\n    try {\n      const text = await readFileAsText(file);\n      const data = parseCSV(text);\n      if (data.length > 0) {\n        // Store imported data for batch processing\n        setImportedData(data);\n        setHasUncomputedData(true);\n        setComputedResults([]); // Clear previous results\n\n        // Also update UI with first two entries for preview\n        setDir1(data[0]);\n        if (data.length > 1) {\n          setDir2(data[1]);\n        }\n        setImportMessage(t.importSuccess + ` (${data.length} ${t.entriesLoaded || 'entries loaded'})`);\n        setTimeout(() => setImportMessage(\"\"), 3000);\n      }\n    } catch (error) {\n      setImportMessage(t.importError);\n      setTimeout(() => setImportMessage(\"\"), 3000);\n      console.error(\"Import error:\", error);\n    }\n\n    // Reset file input\n    if (fileInputRef.current) {\n      fileInputRef.current.value = \"\";\n    }\n  };\n\n  // Handle compute\n  const handleCompute = () => {\n    if (importedData.length === 0) {\n      setImportMessage(t.noDataToCompute || \"No data to compute\");\n      setTimeout(() => setImportMessage(\"\"), 3000);\n      return;\n    }\n    try {\n      const results = importedData.map(entry => {\n        const computed = computeFromDirection(entry);\n        // Flatten the computed results to include totalAadt and heavyVehicleMixPt at top level\n        return {\n          ...entry,\n          totalAadt: computed.totalAadt,\n          heavyVehicleMixPt: computed.heavyVehicleMixPt,\n          counts: computed.counts,\n          mixPercents: computed.mixPercents,\n          mixPercentSum: computed.mixPercentSum\n        };\n      });\n      setComputedResults(results);\n      setHasUncomputedData(false);\n      setImportMessage(t.computeSuccess || `Successfully computed ${results.length} entries`);\n      setTimeout(() => setImportMessage(\"\"), 3000);\n    } catch (error) {\n      setImportMessage(t.computeError || \"Error computing data\");\n      setTimeout(() => setImportMessage(\"\"), 3000);\n      console.error(\"Compute error:\", error);\n    }\n  };\n\n  // Handle export CSV\n  const handleExportCSV = () => {\n    if (computedResults.length > 0) {\n      // Export batch computed results\n      const csvContent = exportToCSV(computedResults, \"Computed Results\");\n      downloadCSV(csvContent, `traffic_estimation_batch_${Date.now()}.csv`);\n    } else {\n      // Export current manual entries\n      const data1 = {\n        ...dir1,\n        ...result1\n      };\n      const data2 = {\n        ...dir2,\n        ...result2\n      };\n      const csv1 = exportToCSV([data1], t.dir1Title);\n      const csv2 = exportToCSV([data2], t.dir2Title);\n\n      // Combine both directions\n      const combined = csv1 + '\\n' + csv2.split('\\n').slice(1).join('\\n');\n      downloadCSV(combined, `traffic_estimation_${Date.now()}.csv`);\n    }\n  };\n\n  // Handle export PDF\n  const handleExportPDF = () => {\n    try {\n      if (computedResults.length > 0) {\n        // Export batch computed results\n        exportToPDF(computedResults, t.title);\n        setImportMessage(t.pdfExportSuccess || \"PDF print dialog opened!\");\n      } else {\n        // Export current manual entries\n        const data1 = {\n          ...dir1,\n          ...result1\n        };\n        const data2 = {\n          ...dir2,\n          ...result2\n        };\n        exportToPDF([data1, data2], t.title);\n        setImportMessage(t.pdfExportSuccess || \"PDF print dialog opened!\");\n      }\n      setTimeout(() => setImportMessage(\"\"), 3000);\n    } catch (error) {\n      setImportMessage(t.pdfExportError || \"Error exporting PDF\");\n      setTimeout(() => setImportMessage(\"\"), 3000);\n      console.error(\"PDF export error:\", error);\n    }\n  };\n\n  // Smoke emission factors local state (editable)\n  const [smokeEmissionFactors, setSmokeEmissionFactors] = useState({\n    ...SMOKE_EMISSION_FACTORS_G_PER_KM_DEFAULT\n  });\n  const smokeQ0Map = computeSmokeQ0Map(smokeEmissionFactors);\n  const handleSmokeFactorChange = key => e => {\n    const val = parseFloat(e.target.value);\n    setSmokeEmissionFactors(prev => ({\n      ...prev,\n      [key]: Number.isFinite(val) ? val : 0\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    style: outerSection,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          marginTop: 0,\n          marginBottom: 0\n        },\n        children: t.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          ref: fileInputRef,\n          type: \"file\",\n          accept: \".csv,.txt,.xls,.xlsx\",\n          onChange: handleFileImport,\n          style: {\n            display: 'none'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            var _fileInputRef$current;\n            return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n          },\n          style: buttonStyle,\n          title: t.importInstructions,\n          \"aria-label\": t.importButton,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            role: \"img\",\n            \"aria-label\": \"folder icon\",\n            style: {\n              fontSize: 16\n            },\n            children: \"\\uD83D\\uDCC1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this), \" \", t.importButton]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleCompute,\n          style: {\n            ...buttonStyle,\n            backgroundColor: hasUncomputedData ? '#4CAF50' : '#f5f5f5',\n            color: hasUncomputedData ? '#fff' : '#666',\n            cursor: importedData.length > 0 ? 'pointer' : 'not-allowed',\n            opacity: importedData.length > 0 ? 1 : 0.5\n          },\n          disabled: importedData.length === 0,\n          \"aria-label\": t.computeButton || \"Compute\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            role: \"img\",\n            \"aria-label\": \"calculator icon\",\n            style: {\n              fontSize: 16\n            },\n            children: \"\\uD83E\\uDDEE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this), \" \", t.computeButton || \"Compute\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleExportCSV,\n          style: {\n            ...buttonStyle,\n            opacity: computedResults.length > 0 || !hasUncomputedData && importedData.length === 0 ? 1 : 0.5\n          },\n          disabled: hasUncomputedData,\n          \"aria-label\": t.exportCSVButton || t.exportButton,\n          title: hasUncomputedData ? t.computeFirstMessage || \"Please compute data first\" : \"\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            role: \"img\",\n            \"aria-label\": \"csv file icon\",\n            style: {\n              fontSize: 16\n            },\n            children: \"\\uD83D\\uDCCA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this), \" \", t.exportCSVButton || \"CSV\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleExportPDF,\n          style: {\n            ...buttonStyle,\n            opacity: computedResults.length > 0 || !hasUncomputedData && importedData.length === 0 ? 1 : 0.5\n          },\n          disabled: hasUncomputedData,\n          \"aria-label\": t.exportPDFButton || \"Export PDF\",\n          title: hasUncomputedData ? t.computeFirstMessage || \"Please compute data first\" : \"\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            role: \"img\",\n            \"aria-label\": \"pdf file icon\",\n            style: {\n              fontSize: 16\n            },\n            children: \"\\uD83D\\uDCC4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this), \" \", t.exportPDFButton || \"PDF\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), importMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '8px 12px',\n        marginBottom: 12,\n        borderRadius: 4,\n        backgroundColor: importMessage.includes('Error') || importMessage.includes('ì˜¤ë¥˜') ? '#fee' : '#efe',\n        border: `1px solid ${importMessage.includes('Error') || importMessage.includes('ì˜¤ë¥˜') ? '#fcc' : '#cfc'}`,\n        fontSize: 12\n      },\n      children: importMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: explanation,\n      children: t.explanation\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: twoColumn,\n      children: [/*#__PURE__*/_jsxDEV(DirectionCard, {\n        title: t.dir1Title,\n        state: dir1,\n        onChange: setDir1,\n        result: result1,\n        t: t\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DirectionCard, {\n        title: t.dir2Title,\n        state: dir2,\n        onChange: setDir2,\n        result: result2,\n        t: t\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 32\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          margin: \"12px 0\"\n        },\n        children: t.smokeTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: smokeMetaRow,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: smokeMetaBox,\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [t.smokeReductionFactorLabel, \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this), \" \", SMOKE_REDUCTION_FACTOR]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: smokeMetaBox,\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [t.smokeReferenceSpeedLabel, \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this), \" \", SMOKE_REFERENCE_SPEED_KMH]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        style: smokeTableStyle,\n        children: [/*#__PURE__*/_jsxDEV(\"colgroup\", {\n          children: [/*#__PURE__*/_jsxDEV(\"col\", {\n            style: {\n              width: '40%'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"col\", {\n            style: {\n              width: '30%'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"col\", {\n            style: {\n              width: '30%'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              style: thVehicle,\n              children: t.vehicleHeader\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: thNumeric,\n              children: t.smokeEmissionHeader\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: thNumeric,\n              children: t.smokeQ0Header\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: SMOKE_VEHICLE_KEYS.map(vk => {\n            var _smokeQ0Map$vk;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                style: tdVehicle,\n                children: renderVehicleLabel(vk, t)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: tdNumeric,\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  step: \"0.0000000001\",\n                  value: smokeEmissionFactors[vk],\n                  onChange: handleSmokeFactorChange(vk),\n                  style: inputSmallRight\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: tdNumeric,\n                children: (_smokeQ0Map$vk = smokeQ0Map[vk]) === null || _smokeQ0Map$vk === void 0 ? void 0 : _smokeQ0Map$vk.toFixed(4)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 17\n              }, this)]\n            }, vk, true, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 182,\n    columnNumber: 5\n  }, this);\n}\n\n/**\r\n * Helper: compute result object from direction state.\r\n */\n_s(TrafficEstimationModule, \"OVCI0hnF39soRZptzBCI6tSpnXA=\", false, function () {\n  return [useLanguage];\n});\n_c = TrafficEstimationModule;\nfunction computeFromDirection(directionState) {\n  const {\n    passengerGasoline,\n    passengerDiesel,\n    busSmall,\n    busLarge,\n    truckSmall,\n    truckMedium,\n    truckLarge,\n    truckSpecial\n  } = directionState;\n  const passengerAADT = (Number(passengerGasoline) || 0) + (Number(passengerDiesel) || 0);\n  return computeEstimatedTraffic({\n    passengerAADT,\n    busSmall,\n    busLarge,\n    truckSmall,\n    truckMedium,\n    truckLarge,\n    truckSpecial\n  });\n}\nfunction DirectionCard({\n  title,\n  state,\n  onChange,\n  result,\n  t\n}) {\n  const {\n    year,\n    passengerGasoline,\n    passengerDiesel,\n    busSmall,\n    busLarge,\n    truckSmall,\n    truckMedium,\n    truckLarge,\n    truckSpecial\n  } = state;\n  const passengerAADT = (Number(passengerGasoline) || 0) + (Number(passengerDiesel) || 0);\n  const handleYearChange = e => {\n    const value = e.target.value;\n    onChange(prev => ({\n      ...prev,\n      year: Number(value) || \"\"\n    }));\n  };\n  const handleCountChange = vehicleKey => e => {\n    const value = e.target.value;\n    onChange(prev => ({\n      ...prev,\n      [vehicleKey]: Number(value) || 0\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: card,\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        marginTop: 0\n      },\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: headerRow,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: fieldGroup,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: label,\n          children: t.targetYear\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: year,\n          onChange: handleYearChange,\n          style: input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: summaryBox,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: summaryLine,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: t.totalAadt\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: result.totalAadt ? Math.round(result.totalAadt).toLocaleString() : \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: summaryLine,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: t.heavyMix\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: result.heavyVehicleMixPt != null ? result.heavyVehicleMixPt.toFixed(2) : \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(EditableResultsTable, {\n      state: state,\n      result: result,\n      onCountChange: handleCountChange,\n      t: t\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          margin: \"8px 0\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: inputsGrid,\n        children: [/*#__PURE__*/_jsxDEV(Field, {\n          label: t.passengerAadt,\n          value: passengerAADT,\n          readOnly: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          label: t.busSmall,\n          value: busSmall,\n          readOnly: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          label: t.busLarge,\n          value: busLarge,\n          readOnly: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          label: t.truckSmall,\n          value: truckSmall,\n          readOnly: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          label: t.truckMedium,\n          value: truckMedium,\n          readOnly: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          label: t.truckLarge,\n          value: truckLarge,\n          readOnly: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          label: t.truckSpecial,\n          value: truckSpecial,\n          readOnly: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 383,\n    columnNumber: 5\n  }, this);\n}\n\n/**\r\n * First snippet: table where Daily volume is editable,\r\n * Mix (%) and summary rows are computed.\r\n */\n_c2 = DirectionCard;\nfunction EditableResultsTable({\n  state,\n  result,\n  onCountChange,\n  t\n}) {\n  const countsFromState = {\n    passengerGasoline: state.passengerGasoline,\n    passengerDiesel: state.passengerDiesel,\n    busSmall: state.busSmall,\n    busLarge: state.busLarge,\n    truckSmall: state.truckSmall,\n    truckMedium: state.truckMedium,\n    truckLarge: state.truckLarge,\n    truckSpecial: state.truckSpecial\n  };\n  const {\n    mixPercents,\n    mixPercentSum,\n    heavyVehicleMixPt,\n    totalAadt\n  } = result;\n  return /*#__PURE__*/_jsxDEV(\"table\", {\n    style: table,\n    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          style: th,\n          children: t.vehicleHeader\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          style: th,\n          children: t.dailyHeader\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          style: th,\n          children: t.mixHeader\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 493,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: [VEHICLE_KEYS.map(key => {\n        var _countsFromState$key;\n        return /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            style: td,\n            children: renderVehicleLabel(key, t)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: tdRight,\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: (_countsFromState$key = countsFromState[key]) !== null && _countsFromState$key !== void 0 ? _countsFromState$key : 0,\n              onChange: onCountChange(key),\n              style: inputSmall\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: tdRight,\n            children: mixPercents && mixPercents[key] != null ? mixPercents[key].toFixed(2) : \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 13\n          }, this)]\n        }, key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 11\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          style: {\n            ...td,\n            fontWeight: \"bold\"\n          },\n          children: t.totalRow\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          style: {\n            ...tdRight,\n            fontWeight: \"bold\"\n          },\n          children: totalAadt ? Math.round(totalAadt).toLocaleString() : \"-\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          style: {\n            ...tdRight,\n            fontWeight: \"bold\"\n          },\n          children: mixPercentSum != null ? mixPercentSum.toFixed(2) : \"-\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          style: td,\n          children: t.heavyMixRow\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          style: tdRight,\n          children: \"\\u2013\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          style: {\n            ...tdRight,\n            fontWeight: \"bold\"\n          },\n          children: heavyVehicleMixPt != null ? heavyVehicleMixPt.toFixed(2) : \"-\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 533,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 500,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 492,\n    columnNumber: 5\n  }, this);\n}\n_c3 = EditableResultsTable;\nfunction Field({\n  label,\n  value,\n  readOnly = false\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: fieldGroup,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      style: labelStyle,\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 545,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      value: value,\n      readOnly: readOnly,\n      disabled: readOnly,\n      style: readOnly ? inputReadOnly : input\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 546,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 544,\n    columnNumber: 5\n  }, this);\n}\n\n/* ---------- styles ---------- */\n_c4 = Field;\nconst outerSection = {\n  border: \"1px solid #ddd\",\n  borderRadius: 8,\n  padding: 16,\n  margin: 16,\n  background: \"#fafafa\"\n};\nconst explanation = {\n  fontSize: 12,\n  color: \"#555\",\n  marginBottom: 12\n};\nconst twoColumn = {\n  display: \"grid\",\n  gridTemplateColumns: \"repeat(auto-fit, minmax(360px, 1fr))\",\n  gap: 16\n};\nconst card = {\n  background: \"#fff\",\n  borderRadius: 8,\n  border: \"1px solid #ddd\",\n  padding: 12\n};\nconst headerRow = {\n  display: \"flex\",\n  justifyContent: \"space-between\",\n  alignItems: \"flex-start\",\n  gap: 12,\n  marginBottom: 12,\n  flexWrap: \"wrap\"\n};\nconst fieldGroup = {\n  display: \"flex\",\n  flexDirection: \"column\",\n  gap: 4,\n  minWidth: 220\n};\nconst labelStyle = {\n  fontSize: 12,\n  fontWeight: 500,\n  color: \"#333\"\n};\nconst label = labelStyle;\nconst input = {\n  fontSize: 12,\n  padding: \"4px 6px\",\n  borderRadius: 4,\n  border: \"1px solid #ccc\",\n  boxSizing: \"border-box\",\n  width: \"100%\"\n};\nconst inputReadOnly = {\n  ...input,\n  backgroundColor: \"#f5f5f5\",\n  cursor: \"not-allowed\",\n  color: \"#666\"\n};\nconst inputSmall = {\n  ...input,\n  maxWidth: 130,\n  textAlign: \"right\"\n};\nconst summaryBox = {\n  borderRadius: 6,\n  border: \"1px solid #eee\",\n  padding: 8,\n  minWidth: 200,\n  fontSize: 12,\n  background: \"#fafafa\"\n};\nconst summaryLine = {\n  display: \"flex\",\n  justifyContent: \"space-between\",\n  alignItems: \"center\",\n  marginBottom: 4\n};\nconst inputsGrid = {\n  display: \"grid\",\n  gridTemplateColumns: \"repeat(auto-fit, minmax(260px, 1fr))\",\n  gap: 10,\n  marginBottom: 4\n};\nconst table = {\n  width: \"100%\",\n  borderCollapse: \"collapse\",\n  fontSize: 11,\n  marginTop: 8\n};\nconst th = {\n  borderBottom: \"1px solid #ccc\",\n  padding: \"4px 6px\",\n  textAlign: \"center\",\n  background: \"#f5f5f5\"\n};\nconst td = {\n  borderBottom: \"1px solid #eee\",\n  padding: \"3px 6px\",\n  textAlign: \"left\"\n};\nconst tdRight = {\n  ...td,\n  textAlign: \"right\"\n};\nconst smokeMetaRow = {\n  display: \"flex\",\n  gap: 16,\n  flexWrap: \"wrap\",\n  marginBottom: 8,\n  fontSize: 11\n};\n\n// Added dedicated styles for smoke emission table alignment\nconst smokeTableStyle = {\n  width: '100%',\n  borderCollapse: 'collapse',\n  tableLayout: 'fixed'\n};\nconst thVehicle = {\n  ...th,\n  textAlign: 'left'\n};\nconst thNumeric = {\n  ...th,\n  textAlign: 'right'\n};\nconst tdVehicle = {\n  ...td,\n  textAlign: 'left'\n};\nconst tdNumeric = {\n  ...tdRight\n};\nconst inputSmallRight = {\n  ...inputSmall,\n  textAlign: 'right'\n};\nconst smokeMetaBox = {\n  background: \"#fff\",\n  border: \"1px solid #eee\",\n  borderRadius: 4,\n  padding: \"4px 8px\"\n};\nconst buttonStyle = {\n  padding: \"6px 12px\",\n  fontSize: 12,\n  borderRadius: 4,\n  border: \"1px solid #ccc\",\n  backgroundColor: \"#fff\",\n  cursor: \"pointer\",\n  display: \"flex\",\n  alignItems: \"center\",\n  gap: 4\n};\n\n// Localized vehicle label resolver\nfunction renderVehicleLabel(key, t) {\n  switch (key) {\n    case \"passengerGasoline\":\n      return t.passengerGasoline;\n    case \"passengerDiesel\":\n      return t.passengerDiesel;\n    case \"busSmall\":\n      return t.busSmall;\n    case \"busLarge\":\n      return t.busLarge;\n    case \"truckSmall\":\n      return t.truckSmall;\n    case \"truckMedium\":\n      return t.truckMedium;\n    case \"truckLarge\":\n      return t.truckLarge;\n    case \"truckSpecial\":\n      return t.truckSpecial;\n    default:\n      return key;\n  }\n}\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"TrafficEstimationModule\");\n$RefreshReg$(_c2, \"DirectionCard\");\n$RefreshReg$(_c3, \"EditableResultsTable\");\n$RefreshReg$(_c4, \"Field\");","map":{"version":3,"names":["React","useState","useRef","computeEstimatedTraffic","VEHICLE_KEYS","useLanguage","getModuleStrings","SMOKE_EMISSION_FACTORS_G_PER_KM_DEFAULT","SMOKE_VEHICLE_KEYS","computeSmokeQ0Map","SMOKE_REDUCTION_FACTOR","SMOKE_REFERENCE_SPEED_KMH","parseCSV","readFileAsText","exportToCSV","downloadCSV","exportToPDF","jsxDEV","_jsxDEV","DEFAULT_DIRECTION_COUNTS","year","passengerGasoline","passengerDiesel","busSmall","busLarge","truckSmall","truckMedium","truckLarge","truckSpecial","TrafficEstimationModule","_s","lang","t","fileInputRef","dir1","setDir1","dir2","setDir2","importMessage","setImportMessage","importedData","setImportedData","computedResults","setComputedResults","hasUncomputedData","setHasUncomputedData","result1","computeFromDirection","result2","handleFileImport","event","_event$target$files","file","target","files","text","data","length","importSuccess","entriesLoaded","setTimeout","error","importError","console","current","value","handleCompute","noDataToCompute","results","map","entry","computed","totalAadt","heavyVehicleMixPt","counts","mixPercents","mixPercentSum","computeSuccess","computeError","handleExportCSV","csvContent","Date","now","data1","data2","csv1","dir1Title","csv2","dir2Title","combined","split","slice","join","handleExportPDF","title","pdfExportSuccess","pdfExportError","smokeEmissionFactors","setSmokeEmissionFactors","smokeQ0Map","handleSmokeFactorChange","key","e","val","parseFloat","prev","Number","isFinite","style","outerSection","children","display","justifyContent","alignItems","marginBottom","marginTop","fileName","_jsxFileName","lineNumber","columnNumber","gap","ref","type","accept","onChange","onClick","_fileInputRef$current","click","buttonStyle","importInstructions","importButton","role","fontSize","backgroundColor","color","cursor","opacity","disabled","computeButton","exportCSVButton","exportButton","computeFirstMessage","exportPDFButton","padding","borderRadius","includes","border","explanation","twoColumn","DirectionCard","state","result","margin","smokeTitle","smokeMetaRow","smokeMetaBox","smokeReductionFactorLabel","smokeReferenceSpeedLabel","smokeTableStyle","width","thVehicle","vehicleHeader","thNumeric","smokeEmissionHeader","smokeQ0Header","vk","_smokeQ0Map$vk","tdVehicle","renderVehicleLabel","tdNumeric","step","inputSmallRight","toFixed","_c","directionState","passengerAADT","handleYearChange","handleCountChange","vehicleKey","card","headerRow","fieldGroup","label","targetYear","input","summaryBox","summaryLine","Math","round","toLocaleString","heavyMix","EditableResultsTable","onCountChange","inputsGrid","Field","passengerAadt","readOnly","_c2","countsFromState","table","th","dailyHeader","mixHeader","_countsFromState$key","td","tdRight","inputSmall","fontWeight","totalRow","heavyMixRow","_c3","labelStyle","inputReadOnly","_c4","background","gridTemplateColumns","flexWrap","flexDirection","minWidth","boxSizing","maxWidth","textAlign","borderCollapse","borderBottom","tableLayout","$RefreshReg$"],"sources":["C:/Users/USER/sourcecodes/auto-excel/comp-engine2/src/modules/trafficEstimation/TrafficEstimationModule.jsx"],"sourcesContent":["// src/modules/trafficEstimation/TrafficEstimationModule.jsx\r\nimport React, { useState, useRef } from \"react\";\r\nimport {\r\n  computeEstimatedTraffic,\r\n  VEHICLE_KEYS\r\n} from \"./calculations\";\r\nimport { useLanguage } from \"../../i18n/LanguageContext\";\r\nimport { getModuleStrings } from \"../../i18n/appStrings\";\r\nimport {\r\n  SMOKE_EMISSION_FACTORS_G_PER_KM_DEFAULT,\r\n  SMOKE_VEHICLE_KEYS,\r\n  computeSmokeQ0Map,\r\n  SMOKE_REDUCTION_FACTOR,\r\n  SMOKE_REFERENCE_SPEED_KMH\r\n} from \"../smoke/smokeParameters\";\r\nimport {\r\n  parseCSV,\r\n  readFileAsText,\r\n  exportToCSV,\r\n  downloadCSV,\r\n  exportToPDF\r\n} from \"./dataImportExport\";\r\n\r\n// Default per-vehicle daily volumes (Excel example)\r\nconst DEFAULT_DIRECTION_COUNTS = {\r\n  year: 2222,\r\n  passengerGasoline: 49804,\r\n  passengerDiesel: 33203,\r\n  busSmall: 0,\r\n  busLarge: 815,\r\n  truckSmall: 14331,\r\n  truckMedium: 3020,\r\n  truckLarge: 332,\r\n  truckSpecial: 862\r\n};\r\n\r\nexport default function TrafficEstimationModule() {\r\n  const { lang } = useLanguage();\r\n  const t = getModuleStrings(\"trafficEstimation\", lang);\r\n  const fileInputRef = useRef(null);\r\n\r\n  const [dir1, setDir1] = useState({ ...DEFAULT_DIRECTION_COUNTS });\r\n  const [dir2, setDir2] = useState({ ...DEFAULT_DIRECTION_COUNTS });\r\n  const [importMessage, setImportMessage] = useState(\"\");\r\n  \r\n  // Batch processing states\r\n  const [importedData, setImportedData] = useState([]);\r\n  const [computedResults, setComputedResults] = useState([]);\r\n  const [hasUncomputedData, setHasUncomputedData] = useState(false);\r\n\r\n  const result1 = computeFromDirection(dir1);\r\n  const result2 = computeFromDirection(dir2);\r\n\r\n  // Handle file import\r\n  const handleFileImport = async (event) => {\r\n    const file = event.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    try {\r\n      const text = await readFileAsText(file);\r\n      const data = parseCSV(text);\r\n      \r\n      if (data.length > 0) {\r\n        // Store imported data for batch processing\r\n        setImportedData(data);\r\n        setHasUncomputedData(true);\r\n        setComputedResults([]); // Clear previous results\r\n        \r\n        // Also update UI with first two entries for preview\r\n        setDir1(data[0]);\r\n        if (data.length > 1) {\r\n          setDir2(data[1]);\r\n        }\r\n        \r\n        setImportMessage(t.importSuccess + ` (${data.length} ${t.entriesLoaded || 'entries loaded'})`);\r\n        setTimeout(() => setImportMessage(\"\"), 3000);\r\n      }\r\n    } catch (error) {\r\n      setImportMessage(t.importError);\r\n      setTimeout(() => setImportMessage(\"\"), 3000);\r\n      console.error(\"Import error:\", error);\r\n    }\r\n    \r\n    // Reset file input\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = \"\";\r\n    }\r\n  };\r\n\r\n  // Handle compute\r\n  const handleCompute = () => {\r\n    if (importedData.length === 0) {\r\n      setImportMessage(t.noDataToCompute || \"No data to compute\");\r\n      setTimeout(() => setImportMessage(\"\"), 3000);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const results = importedData.map((entry) => {\r\n        const computed = computeFromDirection(entry);\r\n        // Flatten the computed results to include totalAadt and heavyVehicleMixPt at top level\r\n        return {\r\n          ...entry,\r\n          totalAadt: computed.totalAadt,\r\n          heavyVehicleMixPt: computed.heavyVehicleMixPt,\r\n          counts: computed.counts,\r\n          mixPercents: computed.mixPercents,\r\n          mixPercentSum: computed.mixPercentSum\r\n        };\r\n      });\r\n      \r\n      setComputedResults(results);\r\n      setHasUncomputedData(false);\r\n      setImportMessage(t.computeSuccess || `Successfully computed ${results.length} entries`);\r\n      setTimeout(() => setImportMessage(\"\"), 3000);\r\n    } catch (error) {\r\n      setImportMessage(t.computeError || \"Error computing data\");\r\n      setTimeout(() => setImportMessage(\"\"), 3000);\r\n      console.error(\"Compute error:\", error);\r\n    }\r\n  };\r\n\r\n  // Handle export CSV\r\n  const handleExportCSV = () => {\r\n    if (computedResults.length > 0) {\r\n      // Export batch computed results\r\n      const csvContent = exportToCSV(computedResults, \"Computed Results\");\r\n      downloadCSV(csvContent, `traffic_estimation_batch_${Date.now()}.csv`);\r\n    } else {\r\n      // Export current manual entries\r\n      const data1 = { ...dir1, ...result1 };\r\n      const data2 = { ...dir2, ...result2 };\r\n      \r\n      const csv1 = exportToCSV([data1], t.dir1Title);\r\n      const csv2 = exportToCSV([data2], t.dir2Title);\r\n      \r\n      // Combine both directions\r\n      const combined = csv1 + '\\n' + csv2.split('\\n').slice(1).join('\\n');\r\n      \r\n      downloadCSV(combined, `traffic_estimation_${Date.now()}.csv`);\r\n    }\r\n  };\r\n\r\n  // Handle export PDF\r\n  const handleExportPDF = () => {\r\n    try {\r\n      if (computedResults.length > 0) {\r\n        // Export batch computed results\r\n        exportToPDF(computedResults, t.title);\r\n        setImportMessage(t.pdfExportSuccess || \"PDF print dialog opened!\");\r\n      } else {\r\n        // Export current manual entries\r\n        const data1 = { ...dir1, ...result1 };\r\n        const data2 = { ...dir2, ...result2 };\r\n        exportToPDF([data1, data2], t.title);\r\n        setImportMessage(t.pdfExportSuccess || \"PDF print dialog opened!\");\r\n      }\r\n      setTimeout(() => setImportMessage(\"\"), 3000);\r\n    } catch (error) {\r\n      setImportMessage(t.pdfExportError || \"Error exporting PDF\");\r\n      setTimeout(() => setImportMessage(\"\"), 3000);\r\n      console.error(\"PDF export error:\", error);\r\n    }\r\n  };\r\n\r\n  // Smoke emission factors local state (editable)\r\n  const [smokeEmissionFactors, setSmokeEmissionFactors] = useState({\r\n    ...SMOKE_EMISSION_FACTORS_G_PER_KM_DEFAULT\r\n  });\r\n\r\n  const smokeQ0Map = computeSmokeQ0Map(smokeEmissionFactors);\r\n\r\n  const handleSmokeFactorChange = (key) => (e) => {\r\n    const val = parseFloat(e.target.value);\r\n    setSmokeEmissionFactors((prev) => ({\r\n      ...prev,\r\n      [key]: Number.isFinite(val) ? val : 0\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <section style={outerSection}>\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 12 }}>\r\n        <h2 style={{ marginTop: 0, marginBottom: 0 }}>{t.title}</h2>\r\n        <div style={{ display: 'flex', gap: 8 }}>\r\n          <input\r\n            ref={fileInputRef}\r\n            type=\"file\"\r\n            accept=\".csv,.txt,.xls,.xlsx\"\r\n            onChange={handleFileImport}\r\n            style={{ display: 'none' }}\r\n          />\r\n          <button\r\n            onClick={() => fileInputRef.current?.click()}\r\n            style={buttonStyle}\r\n            title={t.importInstructions}\r\n            aria-label={t.importButton}\r\n          >\r\n            <span role=\"img\" aria-label=\"folder icon\" style={{ fontSize: 16 }}>ğŸ“</span> {t.importButton}\r\n          </button>\r\n          <button\r\n            onClick={handleCompute}\r\n            style={{\r\n              ...buttonStyle,\r\n              backgroundColor: hasUncomputedData ? '#4CAF50' : '#f5f5f5',\r\n              color: hasUncomputedData ? '#fff' : '#666',\r\n              cursor: importedData.length > 0 ? 'pointer' : 'not-allowed',\r\n              opacity: importedData.length > 0 ? 1 : 0.5\r\n            }}\r\n            disabled={importedData.length === 0}\r\n            aria-label={t.computeButton || \"Compute\"}\r\n          >\r\n            <span role=\"img\" aria-label=\"calculator icon\" style={{ fontSize: 16 }}>ğŸ§®</span> {t.computeButton || \"Compute\"}\r\n          </button>\r\n          <button\r\n            onClick={handleExportCSV}\r\n            style={{\r\n              ...buttonStyle,\r\n              opacity: (computedResults.length > 0 || (!hasUncomputedData && importedData.length === 0)) ? 1 : 0.5\r\n            }}\r\n            disabled={hasUncomputedData}\r\n            aria-label={t.exportCSVButton || t.exportButton}\r\n            title={hasUncomputedData ? (t.computeFirstMessage || \"Please compute data first\") : \"\"}\r\n          >\r\n            <span role=\"img\" aria-label=\"csv file icon\" style={{ fontSize: 16 }}>ğŸ“Š</span> {t.exportCSVButton || \"CSV\"}\r\n          </button>\r\n          <button\r\n            onClick={handleExportPDF}\r\n            style={{\r\n              ...buttonStyle,\r\n              opacity: (computedResults.length > 0 || (!hasUncomputedData && importedData.length === 0)) ? 1 : 0.5\r\n            }}\r\n            disabled={hasUncomputedData}\r\n            aria-label={t.exportPDFButton || \"Export PDF\"}\r\n            title={hasUncomputedData ? (t.computeFirstMessage || \"Please compute data first\") : \"\"}\r\n          >\r\n            <span role=\"img\" aria-label=\"pdf file icon\" style={{ fontSize: 16 }}>ğŸ“„</span> {t.exportPDFButton || \"PDF\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {importMessage && (\r\n        <div style={{\r\n          padding: '8px 12px',\r\n          marginBottom: 12,\r\n          borderRadius: 4,\r\n          backgroundColor: importMessage.includes('Error') || importMessage.includes('ì˜¤ë¥˜') ? '#fee' : '#efe',\r\n          border: `1px solid ${importMessage.includes('Error') || importMessage.includes('ì˜¤ë¥˜') ? '#fcc' : '#cfc'}`,\r\n          fontSize: 12\r\n        }}>\r\n          {importMessage}\r\n        </div>\r\n      )}\r\n\r\n      <p style={explanation}>{t.explanation}</p>\r\n\r\n      <div style={twoColumn}>\r\n        <DirectionCard\r\n          title={t.dir1Title}\r\n          state={dir1}\r\n          onChange={setDir1}\r\n          result={result1}\r\n          t={t}\r\n        />\r\n        <DirectionCard\r\n          title={t.dir2Title}\r\n          state={dir2}\r\n          onChange={setDir2}\r\n          result={result2}\r\n          t={t}\r\n        />\r\n      </div>\r\n\r\n      {/* Smoke emission parameters table */}\r\n      <div style={{ marginTop: 32 }}>\r\n        <h3 style={{ margin: \"12px 0\" }}>{t.smokeTitle}</h3>\r\n        <div style={smokeMetaRow}>\r\n          <div style={smokeMetaBox}>\r\n            <strong>{t.smokeReductionFactorLabel}:</strong> {SMOKE_REDUCTION_FACTOR}\r\n          </div>\r\n          <div style={smokeMetaBox}>\r\n            <strong>{t.smokeReferenceSpeedLabel}:</strong> {SMOKE_REFERENCE_SPEED_KMH}\r\n          </div>\r\n        </div>\r\n        <table style={smokeTableStyle}>\r\n          <colgroup>\r\n            <col style={{ width: '40%' }} />\r\n            <col style={{ width: '30%' }} />\r\n            <col style={{ width: '30%' }} />\r\n          </colgroup>\r\n          <thead>\r\n            <tr>\r\n              <th style={thVehicle}>{t.vehicleHeader}</th>\r\n              <th style={thNumeric}>{t.smokeEmissionHeader}</th>\r\n              <th style={thNumeric}>{t.smokeQ0Header}</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {SMOKE_VEHICLE_KEYS.map((vk) => (\r\n              <tr key={vk}>\r\n                <td style={tdVehicle}>{renderVehicleLabel(vk, t)}</td>\r\n                <td style={tdNumeric}>\r\n                  <input\r\n                    type=\"number\"\r\n                    step=\"0.0000000001\"\r\n                    value={smokeEmissionFactors[vk]}\r\n                    onChange={handleSmokeFactorChange(vk)}\r\n                    style={inputSmallRight}\r\n                  />\r\n                </td>\r\n                <td style={tdNumeric}>{smokeQ0Map[vk]?.toFixed(4)}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\n/**\r\n * Helper: compute result object from direction state.\r\n */\r\nfunction computeFromDirection(directionState) {\r\n  const {\r\n    passengerGasoline,\r\n    passengerDiesel,\r\n    busSmall,\r\n    busLarge,\r\n    truckSmall,\r\n    truckMedium,\r\n    truckLarge,\r\n    truckSpecial\r\n  } = directionState;\r\n\r\n  const passengerAADT =\r\n    (Number(passengerGasoline) || 0) + (Number(passengerDiesel) || 0);\r\n\r\n  return computeEstimatedTraffic({\r\n    passengerAADT,\r\n    busSmall,\r\n    busLarge,\r\n    truckSmall,\r\n    truckMedium,\r\n    truckLarge,\r\n    truckSpecial\r\n  });\r\n}\r\n\r\nfunction DirectionCard({ title, state, onChange, result, t }) {\r\n  const {\r\n    year,\r\n    passengerGasoline,\r\n    passengerDiesel,\r\n    busSmall,\r\n    busLarge,\r\n    truckSmall,\r\n    truckMedium,\r\n    truckLarge,\r\n    truckSpecial\r\n  } = state;\r\n\r\n  const passengerAADT = (Number(passengerGasoline) || 0) +\r\n                        (Number(passengerDiesel) || 0);\r\n\r\n  const handleYearChange = (e) => {\r\n    const value = e.target.value;\r\n    onChange((prev) => ({\r\n      ...prev,\r\n      year: Number(value) || \"\"\r\n    }));\r\n  };\r\n\r\n  const handleCountChange = (vehicleKey) => (e) => {\r\n    const value = e.target.value;\r\n    onChange((prev) => ({\r\n      ...prev,\r\n      [vehicleKey]: Number(value) || 0\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <div style={card}>\r\n      <h3 style={{ marginTop: 0 }}>{title}</h3>\r\n\r\n      {/* 1) Top row: year + summary (unchanged) */}\r\n      <div style={headerRow}>\r\n        <div style={fieldGroup}>\r\n          <label style={label}>{t.targetYear}</label>\r\n          <input\r\n            type=\"number\"\r\n            value={year}\r\n            onChange={handleYearChange}\r\n            style={input}\r\n          />\r\n        </div>\r\n\r\n        <div style={summaryBox}>\r\n          <div style={summaryLine}>\r\n            <span>{t.totalAadt}</span>\r\n            <strong>\r\n              {result.totalAadt\r\n                ? Math.round(result.totalAadt).toLocaleString()\r\n                : \"-\"}\r\n            </strong>\r\n          </div>\r\n          <div style={summaryLine}>\r\n            <span>{t.heavyMix}</span>\r\n            <strong>\r\n              {result.heavyVehicleMixPt != null\r\n                ? result.heavyVehicleMixPt.toFixed(2)\r\n                : \"-\"}\r\n            </strong>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* 2) FIRST SNIPPET: main variable table (editable daily volumes) */}\r\n      <EditableResultsTable\r\n        state={state}\r\n        result={result}\r\n        onCountChange={handleCountChange}\r\n        t={t}\r\n      />\r\n\r\n      {/* 3) SECOND SNIPPET: read-only summary of base AADT inputs */}\r\n      <div style={{ marginTop: 16 }}>\r\n        <h4 style={{ margin: \"8px 0\" }}>\r\n          {/* you can add a label if you like */}\r\n        </h4>\r\n        <div style={inputsGrid}>\r\n          <Field\r\n            label={t.passengerAadt}\r\n            value={passengerAADT}\r\n            readOnly\r\n          />\r\n          <Field\r\n            label={t.busSmall}\r\n            value={busSmall}\r\n            readOnly\r\n          />\r\n          <Field\r\n            label={t.busLarge}\r\n            value={busLarge}\r\n            readOnly\r\n          />\r\n          <Field\r\n            label={t.truckSmall}\r\n            value={truckSmall}\r\n            readOnly\r\n          />\r\n          <Field\r\n            label={t.truckMedium}\r\n            value={truckMedium}\r\n            readOnly\r\n          />\r\n          <Field\r\n            label={t.truckLarge}\r\n            value={truckLarge}\r\n            readOnly\r\n          />\r\n          <Field\r\n            label={t.truckSpecial}\r\n            value={truckSpecial}\r\n            readOnly\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/**\r\n * First snippet: table where Daily volume is editable,\r\n * Mix (%) and summary rows are computed.\r\n */\r\nfunction EditableResultsTable({ state, result, onCountChange, t }) {\r\n  const countsFromState = {\r\n    passengerGasoline: state.passengerGasoline,\r\n    passengerDiesel: state.passengerDiesel,\r\n    busSmall: state.busSmall,\r\n    busLarge: state.busLarge,\r\n    truckSmall: state.truckSmall,\r\n    truckMedium: state.truckMedium,\r\n    truckLarge: state.truckLarge,\r\n    truckSpecial: state.truckSpecial\r\n  };\r\n\r\n  const { mixPercents, mixPercentSum, heavyVehicleMixPt, totalAadt } = result;\r\n\r\n  return (\r\n    <table style={table}>\r\n      <thead>\r\n        <tr>\r\n          <th style={th}>{t.vehicleHeader}</th>\r\n          <th style={th}>{t.dailyHeader}</th>\r\n          <th style={th}>{t.mixHeader}</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {VEHICLE_KEYS.map((key) => (\r\n          <tr key={key}>\r\n            <td style={td}>{renderVehicleLabel(key, t)}</td>\r\n            <td style={tdRight}>\r\n              <input\r\n                type=\"number\"\r\n                value={countsFromState[key] ?? 0}\r\n                onChange={onCountChange(key)}\r\n                style={inputSmall}\r\n              />\r\n            </td>\r\n            <td style={tdRight}>\r\n              {mixPercents && mixPercents[key] != null\r\n                ? mixPercents[key].toFixed(2)\r\n                : \"-\"}\r\n            </td>\r\n          </tr>\r\n        ))}\r\n        {/* Total row â€“ read-only */}\r\n        <tr>\r\n          <td style={{ ...td, fontWeight: \"bold\" }}>{t.totalRow}</td>\r\n          <td style={{ ...tdRight, fontWeight: \"bold\" }}>\r\n            {totalAadt ? Math.round(totalAadt).toLocaleString() : \"-\"}\r\n          </td>\r\n          <td style={{ ...tdRight, fontWeight: \"bold\" }}>\r\n            {mixPercentSum != null ? mixPercentSum.toFixed(2) : \"-\"}\r\n          </td>\r\n        </tr>\r\n        {/* Heavy vehicle mix Pt row â€“ read-only */}\r\n        <tr>\r\n          <td style={td}>{t.heavyMixRow}</td>\r\n          <td style={tdRight}>â€“</td>\r\n          <td style={{ ...tdRight, fontWeight: \"bold\" }}>\r\n            {heavyVehicleMixPt != null ? heavyVehicleMixPt.toFixed(2) : \"-\"}\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n\r\nfunction Field({ label, value, readOnly = false }) {\r\n  return (\r\n    <div style={fieldGroup}>\r\n      <label style={labelStyle}>{label}</label>\r\n      <input\r\n        type=\"number\"\r\n        value={value}\r\n        readOnly={readOnly}\r\n        disabled={readOnly}\r\n        style={readOnly ? inputReadOnly : input}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ---------- styles ---------- */\r\n\r\nconst outerSection = {\r\n  border: \"1px solid #ddd\",\r\n  borderRadius: 8,\r\n  padding: 16,\r\n  margin: 16,\r\n  background: \"#fafafa\"\r\n};\r\n\r\nconst explanation = {\r\n  fontSize: 12,\r\n  color: \"#555\",\r\n  marginBottom: 12\r\n};\r\n\r\nconst twoColumn = {\r\n  display: \"grid\",\r\n  gridTemplateColumns: \"repeat(auto-fit, minmax(360px, 1fr))\",\r\n  gap: 16\r\n};\r\n\r\nconst card = {\r\n  background: \"#fff\",\r\n  borderRadius: 8,\r\n  border: \"1px solid #ddd\",\r\n  padding: 12\r\n};\r\n\r\nconst headerRow = {\r\n  display: \"flex\",\r\n  justifyContent: \"space-between\",\r\n  alignItems: \"flex-start\",\r\n  gap: 12,\r\n  marginBottom: 12,\r\n  flexWrap: \"wrap\"\r\n};\r\n\r\nconst fieldGroup = {\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  gap: 4,\r\n  minWidth: 220\r\n};\r\n\r\nconst labelStyle = {\r\n  fontSize: 12,\r\n  fontWeight: 500,\r\n  color: \"#333\"\r\n};\r\n\r\nconst label = labelStyle;\r\n\r\nconst input = {\r\n  fontSize: 12,\r\n  padding: \"4px 6px\",\r\n  borderRadius: 4,\r\n  border: \"1px solid #ccc\",\r\n  boxSizing: \"border-box\",\r\n  width: \"100%\"\r\n};\r\n\r\nconst inputReadOnly = {\r\n  ...input,\r\n  backgroundColor: \"#f5f5f5\",\r\n  cursor: \"not-allowed\",\r\n  color: \"#666\"\r\n};\r\n\r\nconst inputSmall = {\r\n  ...input,\r\n  maxWidth: 130,\r\n  textAlign: \"right\"\r\n};\r\n\r\nconst summaryBox = {\r\n  borderRadius: 6,\r\n  border: \"1px solid #eee\",\r\n  padding: 8,\r\n  minWidth: 200,\r\n  fontSize: 12,\r\n  background: \"#fafafa\"\r\n};\r\n\r\nconst summaryLine = {\r\n  display: \"flex\",\r\n  justifyContent: \"space-between\",\r\n  alignItems: \"center\",\r\n  marginBottom: 4\r\n};\r\n\r\nconst inputsGrid = {\r\n  display: \"grid\",\r\n  gridTemplateColumns: \"repeat(auto-fit, minmax(260px, 1fr))\",\r\n  gap: 10,\r\n  marginBottom: 4\r\n};\r\n\r\nconst table = {\r\n  width: \"100%\",\r\n  borderCollapse: \"collapse\",\r\n  fontSize: 11,\r\n  marginTop: 8\r\n};\r\n\r\nconst th = {\r\n  borderBottom: \"1px solid #ccc\",\r\n  padding: \"4px 6px\",\r\n  textAlign: \"center\",\r\n  background: \"#f5f5f5\"\r\n};\r\n\r\nconst td = {\r\n  borderBottom: \"1px solid #eee\",\r\n  padding: \"3px 6px\",\r\n  textAlign: \"left\"\r\n};\r\n\r\nconst tdRight = {\r\n  ...td,\r\n  textAlign: \"right\"\r\n};\r\n\r\nconst smokeMetaRow = {\r\n  display: \"flex\",\r\n  gap: 16,\r\n  flexWrap: \"wrap\",\r\n  marginBottom: 8,\r\n  fontSize: 11\r\n};\r\n\r\n// Added dedicated styles for smoke emission table alignment\r\nconst smokeTableStyle = {\r\n  width: '100%',\r\n  borderCollapse: 'collapse',\r\n  tableLayout: 'fixed'\r\n};\r\nconst thVehicle = { ...th, textAlign: 'left' };\r\nconst thNumeric = { ...th, textAlign: 'right' };\r\nconst tdVehicle = { ...td, textAlign: 'left' };\r\nconst tdNumeric = { ...tdRight };\r\nconst inputSmallRight = { ...inputSmall, textAlign: 'right' };\r\n\r\nconst smokeMetaBox = {\r\n  background: \"#fff\",\r\n  border: \"1px solid #eee\",\r\n  borderRadius: 4,\r\n  padding: \"4px 8px\"\r\n};\r\n\r\nconst buttonStyle = {\r\n  padding: \"6px 12px\",\r\n  fontSize: 12,\r\n  borderRadius: 4,\r\n  border: \"1px solid #ccc\",\r\n  backgroundColor: \"#fff\",\r\n  cursor: \"pointer\",\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  gap: 4\r\n};\r\n\r\n// Localized vehicle label resolver\r\nfunction renderVehicleLabel(key, t) {\r\n  switch (key) {\r\n    case \"passengerGasoline\":\r\n      return t.passengerGasoline;\r\n    case \"passengerDiesel\":\r\n      return t.passengerDiesel;\r\n    case \"busSmall\":\r\n      return t.busSmall;\r\n    case \"busLarge\":\r\n      return t.busLarge;\r\n    case \"truckSmall\":\r\n      return t.truckSmall;\r\n    case \"truckMedium\":\r\n      return t.truckMedium;\r\n    case \"truckLarge\":\r\n      return t.truckLarge;\r\n    case \"truckSpecial\":\r\n      return t.truckSpecial;\r\n    default:\r\n      return key;\r\n  }\r\n}\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}