{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\sourcecodes\\\\auto-excel\\\\comp-engine\\\\src\\\\modules\\\\designConditions\\\\DesignConditionsForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { computeDirectionStats, estimateTrafficVolume, SPEED_CAPACITY_TABLE } from \"./calculations\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EMPTY_SEGMENT = {\n  slopePercent: \"\",\n  lengthM: \"\",\n  avgElevationM: \"\",\n  laneCount: \"\"\n};\nconst SEGMENT_COUNT_PER_DIR = 10;\n\n// Excel-style mapping: IF(V=120,0.1, IF(V=100,0.2, IF(V=80,0.3)))\nfunction defaultApplyCodeForSpeed(speed) {\n  if (speed === 120) return 0.1;\n  if (speed === 100) return 0.2;\n  if (speed === 80) return 0.3;\n  return 0.3; // fallback\n}\nexport default function DesignConditionsForm() {\n  _s();\n  const [segmentsMasanToJinju, setSegmentsMasanToJinju] = useState(Array.from({\n    length: SEGMENT_COUNT_PER_DIR\n  }, () => ({\n    ...EMPTY_SEGMENT\n  })));\n  const [segmentsJinjuToMasan, setSegmentsJinjuToMasan] = useState(Array.from({\n    length: SEGMENT_COUNT_PER_DIR\n  }, () => ({\n    ...EMPTY_SEGMENT\n  })));\n  const [designInputs, setDesignInputs] = useState({\n    designSpeedKmH: 80,\n    applyCode: defaultApplyCodeForSpeed(80),\n    // 적용CODE (read-only)\n    capacityUsageRatio: defaultApplyCodeForSpeed(80),\n    // can be tweaked\n    serviceLevelCode: \"D\"\n  });\n  const handleSegmentChange = (dir, index, field, value) => {\n    const [segments, setter] = dir === \"MasanToJinju\" ? [segmentsMasanToJinju, setSegmentsMasanToJinju] : [segmentsJinjuToMasan, setSegmentsJinjuToMasan];\n    const next = segments.map((seg, i) => i === index ? {\n      ...seg,\n      [field]: value\n    } : seg);\n    setter(next);\n  };\n\n  // 설계속도 변경 시: Excel 규칙으로 적용CODE 계산 + 기본 용량사용률도 그 값으로 세팅\n  const handleDesignSpeedChange = speed => {\n    const s = Number(speed);\n    const code = defaultApplyCodeForSpeed(s);\n    setDesignInputs(prev => ({\n      ...prev,\n      designSpeedKmH: s,\n      applyCode: code,\n      capacityUsageRatio: code\n    }));\n  };\n  const handleDesignInputChange = (field, value) => {\n    setDesignInputs(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  // ---- Calculations per direction ----\n  const statsMasanToJinju = computeDirectionStats(segmentsMasanToJinju);\n  const statsJinjuToMasan = computeDirectionStats(segmentsJinjuToMasan);\n  const trafficMasanToJinju = estimateTrafficVolume({\n    designSpeedKmH: designInputs.designSpeedKmH,\n    capacityUsageRatio: designInputs.capacityUsageRatio,\n    lanes: statsMasanToJinju.lanes\n  });\n  const trafficJinjuToMasan = estimateTrafficVolume({\n    designSpeedKmH: designInputs.designSpeedKmH,\n    capacityUsageRatio: designInputs.capacityUsageRatio,\n    lanes: statsJinjuToMasan.lanes\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20,\n      fontFamily: \"sans-serif\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Module 1 \\u2013 Design Conditions & Estimated Traffic Volume\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      style: cardStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Global Design Inputs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: grid3,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: fieldLabel,\n          children: [\"\\uC124\\uACC4\\uC18D\\uB3C4 V [km/h]\", /*#__PURE__*/_jsxDEV(\"select\", {\n            value: designInputs.designSpeedKmH,\n            onChange: e => handleDesignSpeedChange(Number(e.target.value)),\n            style: selectStyle,\n            children: Object.keys(SPEED_CAPACITY_TABLE).map(v => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: v,\n              children: v\n            }, v, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: fieldLabel,\n          children: [\"\\uC801\\uC6A9CODE\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: designInputs.applyCode,\n            readOnly: true,\n            disabled: true,\n            style: readOnlyInputStyle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(NumberInput, {\n          label: \"\\uC6A9\\uB7C9 \\uC0AC\\uC6A9\\uB960 (Capacity usage ratio)\",\n          value: designInputs.capacityUsageRatio,\n          onChange: v => handleDesignInputChange(\"capacityUsageRatio\", Number(v))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: fieldLabel,\n          children: [\"\\uC11C\\uBE44\\uC2A4 \\uC218\\uC900 Code\", /*#__PURE__*/_jsxDEV(\"select\", {\n            value: designInputs.serviceLevelCode,\n            onChange: e => handleDesignInputChange(\"serviceLevelCode\", e.target.value),\n            style: selectStyle,\n            children: [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\"].map(code => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: code,\n              children: code\n            }, code, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: hintText,\n        children: [\"Base capacity per lane at \", designInputs.designSpeedKmH, \" km/h:\", \" \", SPEED_CAPACITY_TABLE[designInputs.designSpeedKmH], \" veh/h, \\uC801\\uC6A9CODE =\", \" \", designInputs.applyCode, \", \\uC6A9\\uB7C9 \\uC0AC\\uC6A9\\uB960 = \", designInputs.capacityUsageRatio, \".\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      style: cardStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uB9C8\\uC0B0 \\uBC29\\uD5A5 \\u21D2 \\uC9C4\\uC8FC \\uBC29\\uD5A5 (\\uAD6C\\uAC04 1~10)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SegmentsTableTransposed, {\n        direction: \"MasanToJinju\",\n        segments: segmentsMasanToJinju,\n        onChange: handleSegmentChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SummaryRow, {\n        label: \"\\uB9C8\\uC0B0 \\u21D2 \\uC9C4\\uC8FC \\uD569\\uACC4\",\n        stats: statsMasanToJinju,\n        traffic: trafficMasanToJinju\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      style: cardStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uC9C4\\uC8FC \\uBC29\\uD5A5 \\u21D2 \\uB9C8\\uC0B0 \\uBC29\\uD5A5 (\\uAD6C\\uAC04 1~10)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SegmentsTableTransposed, {\n        direction: \"JinjuToMasan\",\n        segments: segmentsJinjuToMasan,\n        onChange: handleSegmentChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SummaryRow, {\n        label: \"\\uC9C4\\uC8FC \\u21D2 \\uB9C8\\uC0B0 \\uD569\\uACC4\",\n        stats: statsJinjuToMasan,\n        traffic: trafficJinjuToMasan\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n}\n\n/**\r\n * Transposed table:\r\n *   rows  = {터널구배, 터널길이, 평균표고, 차선수}\r\n *   cols  = sectors 1..10\r\n */\n_s(DesignConditionsForm, \"bawZ81j+d0i0U5XzhEl53l1O+4Y=\");\n_c = DesignConditionsForm;\nfunction SegmentsTableTransposed({\n  direction,\n  segments,\n  onChange\n}) {\n  const colHeaders = Array.from({\n    length: SEGMENT_COUNT_PER_DIR\n  }, (_, i) => i + 1);\n  return /*#__PURE__*/_jsxDEV(\"table\", {\n    style: tableStyle,\n    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          style: thStyle,\n          children: \"\\uAD6C\\uBD84\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), colHeaders.map(n => /*#__PURE__*/_jsxDEV(\"th\", {\n          style: thStyle,\n          children: [n, \"\\uAD6C\\uAC04\"]\n        }, n, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          style: rowHeaderStyle,\n          children: \"\\uD130\\uB110\\uAD6C\\uBC30 [%]\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), colHeaders.map((n, idx) => {\n          var _segments$idx$slopePe, _segments$idx;\n          return /*#__PURE__*/_jsxDEV(\"td\", {\n            style: tdStyle,\n            children: /*#__PURE__*/_jsxDEV(NumberCellInput, {\n              value: (_segments$idx$slopePe = (_segments$idx = segments[idx]) === null || _segments$idx === void 0 ? void 0 : _segments$idx.slopePercent) !== null && _segments$idx$slopePe !== void 0 ? _segments$idx$slopePe : \"\",\n              onChange: v => onChange(direction, idx, \"slopePercent\", v)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this)\n          }, n, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          style: rowHeaderStyle,\n          children: \"\\uD130\\uB110\\uAE38\\uC774 [m]\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), colHeaders.map((n, idx) => {\n          var _segments$idx$lengthM, _segments$idx2;\n          return /*#__PURE__*/_jsxDEV(\"td\", {\n            style: tdStyle,\n            children: /*#__PURE__*/_jsxDEV(NumberCellInput, {\n              value: (_segments$idx$lengthM = (_segments$idx2 = segments[idx]) === null || _segments$idx2 === void 0 ? void 0 : _segments$idx2.lengthM) !== null && _segments$idx$lengthM !== void 0 ? _segments$idx$lengthM : \"\",\n              onChange: v => onChange(direction, idx, \"lengthM\", v)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this)\n          }, n, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          style: rowHeaderStyle,\n          children: \"\\uD3C9\\uADE0\\uD45C\\uACE0 [m]\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), colHeaders.map((n, idx) => {\n          var _segments$idx$avgElev, _segments$idx3;\n          return /*#__PURE__*/_jsxDEV(\"td\", {\n            style: tdStyle,\n            children: /*#__PURE__*/_jsxDEV(NumberCellInput, {\n              value: (_segments$idx$avgElev = (_segments$idx3 = segments[idx]) === null || _segments$idx3 === void 0 ? void 0 : _segments$idx3.avgElevationM) !== null && _segments$idx$avgElev !== void 0 ? _segments$idx$avgElev : \"\",\n              onChange: v => onChange(direction, idx, \"avgElevationM\", v)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this)\n          }, n, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          style: rowHeaderStyle,\n          children: \"\\uCC28\\uC120\\uC218 [N]\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), colHeaders.map((n, idx) => {\n          var _segments$idx$laneCou, _segments$idx4;\n          return /*#__PURE__*/_jsxDEV(\"td\", {\n            style: tdStyle,\n            children: /*#__PURE__*/_jsxDEV(NumberCellInput, {\n              value: (_segments$idx$laneCou = (_segments$idx4 = segments[idx]) === null || _segments$idx4 === void 0 ? void 0 : _segments$idx4.laneCount) !== null && _segments$idx$laneCou !== void 0 ? _segments$idx$laneCou : \"\",\n              onChange: v => onChange(direction, idx, \"laneCount\", v)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this)\n          }, n, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 5\n  }, this);\n}\n_c2 = SegmentsTableTransposed;\nfunction SummaryRow({\n  label,\n  stats,\n  traffic\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: 12,\n      fontSize: 13\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this), \" \\u2014 \\uCD1D \\uC5F0\\uC7A5:\", \" \", stats.totalLengthM.toFixed(2), \" m, \\uCC28\\uC120\\uC218(\\uCD5C\\uB300): \", stats.lanes, \", \\uCD94\\uC815\\uAD50\\uD1B5\\uB7C9:\", \" \", traffic.estimatedVolume.toLocaleString(), \" \\uB300/\\uC2DC\\uAC04\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 267,\n    columnNumber: 5\n  }, this);\n}\n_c3 = SummaryRow;\nfunction NumberInput({\n  label,\n  value,\n  onChange\n}) {\n  return /*#__PURE__*/_jsxDEV(\"label\", {\n    style: fieldLabel,\n    children: [label, /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      value: value,\n      onChange: e => onChange(e.target.value),\n      style: inputStyle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 277,\n    columnNumber: 5\n  }, this);\n}\n_c4 = NumberInput;\nfunction NumberCellInput({\n  value,\n  onChange\n}) {\n  return /*#__PURE__*/_jsxDEV(\"input\", {\n    type: \"number\",\n    value: value,\n    onChange: e => onChange(e.target.value),\n    style: cellInputStyle\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 291,\n    columnNumber: 5\n  }, this);\n}\n\n// ---------- styles ----------\n_c5 = NumberCellInput;\nconst cardStyle = {\n  border: \"1px solid #ccc\",\n  borderRadius: 8,\n  padding: 16,\n  marginBottom: 24\n};\nconst grid3 = {\n  display: \"grid\",\n  gridTemplateColumns: \"repeat(auto-fit, minmax(170px, 1fr))\",\n  gap: 12\n};\nconst tableStyle = {\n  width: \"100%\",\n  borderCollapse: \"collapse\",\n  marginTop: 8,\n  fontSize: 12\n};\nconst thStyle = {\n  borderBottom: \"1px solid #ccc\",\n  padding: \"4px 6px\",\n  textAlign: \"center\"\n};\nconst rowHeaderStyle = {\n  borderBottom: \"1px solid #eee\",\n  padding: \"2px 4px\",\n  textAlign: \"left\",\n  background: \"#fafafa\",\n  minWidth: 110\n};\nconst tdStyle = {\n  borderBottom: \"1px solid #eee\",\n  padding: \"2px 4px\",\n  textAlign: \"center\"\n};\nconst inputStyle = {\n  width: \"100%\",\n  padding: \"4px 6px\",\n  fontSize: 12\n};\nconst readOnlyInputStyle = {\n  ...inputStyle,\n  backgroundColor: \"#f3f3f3\",\n  color: \"#555\",\n  cursor: \"not-allowed\"\n};\nconst cellInputStyle = {\n  width: \"100%\",\n  padding: \"2px 4px\",\n  fontSize: 12,\n  boxSizing: \"border-box\"\n};\nconst selectStyle = {\n  width: \"100%\",\n  padding: \"4px 6px\",\n  fontSize: 12\n};\nconst fieldLabel = {\n  display: \"flex\",\n  flexDirection: \"column\",\n  fontSize: 12,\n  gap: 2\n};\nconst hintText = {\n  marginTop: 8,\n  fontSize: 11,\n  color: \"#555\"\n};\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"DesignConditionsForm\");\n$RefreshReg$(_c2, \"SegmentsTableTransposed\");\n$RefreshReg$(_c3, \"SummaryRow\");\n$RefreshReg$(_c4, \"NumberInput\");\n$RefreshReg$(_c5, \"NumberCellInput\");","map":{"version":3,"names":["React","useState","computeDirectionStats","estimateTrafficVolume","SPEED_CAPACITY_TABLE","jsxDEV","_jsxDEV","EMPTY_SEGMENT","slopePercent","lengthM","avgElevationM","laneCount","SEGMENT_COUNT_PER_DIR","defaultApplyCodeForSpeed","speed","DesignConditionsForm","_s","segmentsMasanToJinju","setSegmentsMasanToJinju","Array","from","length","segmentsJinjuToMasan","setSegmentsJinjuToMasan","designInputs","setDesignInputs","designSpeedKmH","applyCode","capacityUsageRatio","serviceLevelCode","handleSegmentChange","dir","index","field","value","segments","setter","next","map","seg","i","handleDesignSpeedChange","s","Number","code","prev","handleDesignInputChange","statsMasanToJinju","statsJinjuToMasan","trafficMasanToJinju","lanes","trafficJinjuToMasan","style","padding","fontFamily","children","fileName","_jsxFileName","lineNumber","columnNumber","cardStyle","grid3","fieldLabel","onChange","e","target","selectStyle","Object","keys","v","type","readOnly","disabled","readOnlyInputStyle","NumberInput","label","hintText","SegmentsTableTransposed","direction","SummaryRow","stats","traffic","_c","colHeaders","_","tableStyle","thStyle","n","rowHeaderStyle","idx","_segments$idx$slopePe","_segments$idx","tdStyle","NumberCellInput","_segments$idx$lengthM","_segments$idx2","_segments$idx$avgElev","_segments$idx3","_segments$idx$laneCou","_segments$idx4","_c2","marginTop","fontSize","totalLengthM","toFixed","estimatedVolume","toLocaleString","_c3","inputStyle","_c4","cellInputStyle","_c5","border","borderRadius","marginBottom","display","gridTemplateColumns","gap","width","borderCollapse","borderBottom","textAlign","background","minWidth","backgroundColor","color","cursor","boxSizing","flexDirection","$RefreshReg$"],"sources":["C:/Users/USER/sourcecodes/auto-excel/comp-engine/src/modules/designConditions/DesignConditionsForm.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  computeDirectionStats,\r\n  estimateTrafficVolume,\r\n  SPEED_CAPACITY_TABLE\r\n} from \"./calculations\";\r\n\r\nconst EMPTY_SEGMENT = {\r\n  slopePercent: \"\",\r\n  lengthM: \"\",\r\n  avgElevationM: \"\",\r\n  laneCount: \"\"\r\n};\r\n\r\nconst SEGMENT_COUNT_PER_DIR = 10;\r\n\r\n// Excel-style mapping: IF(V=120,0.1, IF(V=100,0.2, IF(V=80,0.3)))\r\nfunction defaultApplyCodeForSpeed(speed) {\r\n  if (speed === 120) return 0.1;\r\n  if (speed === 100) return 0.2;\r\n  if (speed === 80) return 0.3;\r\n  return 0.3; // fallback\r\n}\r\n\r\nexport default function DesignConditionsForm() {\r\n  const [segmentsMasanToJinju, setSegmentsMasanToJinju] = useState(\r\n    Array.from({ length: SEGMENT_COUNT_PER_DIR }, () => ({ ...EMPTY_SEGMENT }))\r\n  );\r\n  const [segmentsJinjuToMasan, setSegmentsJinjuToMasan] = useState(\r\n    Array.from({ length: SEGMENT_COUNT_PER_DIR }, () => ({ ...EMPTY_SEGMENT }))\r\n  );\r\n\r\n  const [designInputs, setDesignInputs] = useState({\r\n    designSpeedKmH: 80,\r\n    applyCode: defaultApplyCodeForSpeed(80),     // 적용CODE (read-only)\r\n    capacityUsageRatio: defaultApplyCodeForSpeed(80), // can be tweaked\r\n    serviceLevelCode: \"D\"\r\n  });\r\n\r\n  const handleSegmentChange = (dir, index, field, value) => {\r\n    const [segments, setter] =\r\n      dir === \"MasanToJinju\"\r\n        ? [segmentsMasanToJinju, setSegmentsMasanToJinju]\r\n        : [segmentsJinjuToMasan, setSegmentsJinjuToMasan];\r\n\r\n    const next = segments.map((seg, i) =>\r\n      i === index ? { ...seg, [field]: value } : seg\r\n    );\r\n    setter(next);\r\n  };\r\n\r\n  // 설계속도 변경 시: Excel 규칙으로 적용CODE 계산 + 기본 용량사용률도 그 값으로 세팅\r\n  const handleDesignSpeedChange = (speed) => {\r\n    const s = Number(speed);\r\n    const code = defaultApplyCodeForSpeed(s);\r\n    setDesignInputs((prev) => ({\r\n      ...prev,\r\n      designSpeedKmH: s,\r\n      applyCode: code,\r\n      capacityUsageRatio: code\r\n    }));\r\n  };\r\n\r\n  const handleDesignInputChange = (field, value) => {\r\n    setDesignInputs((prev) => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  // ---- Calculations per direction ----\r\n  const statsMasanToJinju = computeDirectionStats(segmentsMasanToJinju);\r\n  const statsJinjuToMasan = computeDirectionStats(segmentsJinjuToMasan);\r\n\r\n  const trafficMasanToJinju = estimateTrafficVolume({\r\n    designSpeedKmH: designInputs.designSpeedKmH,\r\n    capacityUsageRatio: designInputs.capacityUsageRatio,\r\n    lanes: statsMasanToJinju.lanes\r\n  });\r\n\r\n  const trafficJinjuToMasan = estimateTrafficVolume({\r\n    designSpeedKmH: designInputs.designSpeedKmH,\r\n    capacityUsageRatio: designInputs.capacityUsageRatio,\r\n    lanes: statsJinjuToMasan.lanes\r\n  });\r\n\r\n  return (\r\n    <div style={{ padding: 20, fontFamily: \"sans-serif\" }}>\r\n      <h1>Module 1 – Design Conditions & Estimated Traffic Volume</h1>\r\n\r\n      {/* Global design inputs */}\r\n      <section style={cardStyle}>\r\n        <h2>Global Design Inputs</h2>\r\n        <div style={grid3}>\r\n          {/* 설계속도 */}\r\n          <label style={fieldLabel}>\r\n            설계속도 V [km/h]\r\n            <select\r\n              value={designInputs.designSpeedKmH}\r\n              onChange={(e) => handleDesignSpeedChange(Number(e.target.value))}\r\n              style={selectStyle}\r\n            >\r\n              {Object.keys(SPEED_CAPACITY_TABLE).map((v) => (\r\n                <option key={v} value={v}>\r\n                  {v}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </label>\r\n\r\n          {/* 적용CODE – derived, read-only */}\r\n          <label style={fieldLabel}>\r\n            적용CODE\r\n            <input\r\n              type=\"number\"\r\n              value={designInputs.applyCode}\r\n              readOnly\r\n              disabled\r\n              style={readOnlyInputStyle}\r\n            />\r\n          </label>\r\n\r\n          {/* 용량 사용률 – default = 적용CODE, but editable for scenario tests */}\r\n          <NumberInput\r\n            label=\"용량 사용률 (Capacity usage ratio)\"\r\n            value={designInputs.capacityUsageRatio}\r\n            onChange={(v) =>\r\n              handleDesignInputChange(\"capacityUsageRatio\", Number(v))\r\n            }\r\n          />\r\n\r\n          {/* 서비스 수준 Code */}\r\n          <label style={fieldLabel}>\r\n            서비스 수준 Code\r\n            <select\r\n              value={designInputs.serviceLevelCode}\r\n              onChange={(e) =>\r\n                handleDesignInputChange(\"serviceLevelCode\", e.target.value)\r\n              }\r\n              style={selectStyle}\r\n            >\r\n              {[\"A\", \"B\", \"C\", \"D\", \"E\", \"F\"].map((code) => (\r\n                <option key={code} value={code}>\r\n                  {code}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </label>\r\n        </div>\r\n        <p style={hintText}>\r\n          Base capacity per lane at {designInputs.designSpeedKmH} km/h:{\" \"}\r\n          {SPEED_CAPACITY_TABLE[designInputs.designSpeedKmH]} veh/h, 적용CODE ={\" \"}\r\n          {designInputs.applyCode}, 용량 사용률 = {designInputs.capacityUsageRatio}.\r\n        </p>\r\n      </section>\r\n\r\n      {/* 마산 방향 ⇒ 진주 방향 */}\r\n      <section style={cardStyle}>\r\n        <h2>마산 방향 ⇒ 진주 방향 (구간 1~10)</h2>\r\n        <SegmentsTableTransposed\r\n          direction=\"MasanToJinju\"\r\n          segments={segmentsMasanToJinju}\r\n          onChange={handleSegmentChange}\r\n        />\r\n        <SummaryRow\r\n          label=\"마산 ⇒ 진주 합계\"\r\n          stats={statsMasanToJinju}\r\n          traffic={trafficMasanToJinju}\r\n        />\r\n      </section>\r\n\r\n      {/* 진주 방향 ⇒ 마산 방향 */}\r\n      <section style={cardStyle}>\r\n        <h2>진주 방향 ⇒ 마산 방향 (구간 1~10)</h2>\r\n        <SegmentsTableTransposed\r\n          direction=\"JinjuToMasan\"\r\n          segments={segmentsJinjuToMasan}\r\n          onChange={handleSegmentChange}\r\n        />\r\n        <SummaryRow\r\n          label=\"진주 ⇒ 마산 합계\"\r\n          stats={statsJinjuToMasan}\r\n          traffic={trafficJinjuToMasan}\r\n        />\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\n/**\r\n * Transposed table:\r\n *   rows  = {터널구배, 터널길이, 평균표고, 차선수}\r\n *   cols  = sectors 1..10\r\n */\r\nfunction SegmentsTableTransposed({ direction, segments, onChange }) {\r\n  const colHeaders = Array.from({ length: SEGMENT_COUNT_PER_DIR }, (_, i) => i + 1);\r\n\r\n  return (\r\n    <table style={tableStyle}>\r\n      <thead>\r\n        <tr>\r\n          <th style={thStyle}>구분</th>\r\n          {colHeaders.map((n) => (\r\n            <th key={n} style={thStyle}>\r\n              {n}구간\r\n            </th>\r\n          ))}\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <th style={rowHeaderStyle}>터널구배 [%]</th>\r\n          {colHeaders.map((n, idx) => (\r\n            <td key={n} style={tdStyle}>\r\n              <NumberCellInput\r\n                value={segments[idx]?.slopePercent ?? \"\"}\r\n                onChange={(v) =>\r\n                  onChange(direction, idx, \"slopePercent\", v)\r\n                }\r\n              />\r\n            </td>\r\n          ))}\r\n        </tr>\r\n        <tr>\r\n          <th style={rowHeaderStyle}>터널길이 [m]</th>\r\n          {colHeaders.map((n, idx) => (\r\n            <td key={n} style={tdStyle}>\r\n              <NumberCellInput\r\n                value={segments[idx]?.lengthM ?? \"\"}\r\n                onChange={(v) =>\r\n                  onChange(direction, idx, \"lengthM\", v)\r\n                }\r\n              />\r\n            </td>\r\n          ))}\r\n        </tr>\r\n        <tr>\r\n          <th style={rowHeaderStyle}>평균표고 [m]</th>\r\n          {colHeaders.map((n, idx) => (\r\n            <td key={n} style={tdStyle}>\r\n              <NumberCellInput\r\n                value={segments[idx]?.avgElevationM ?? \"\"}\r\n                onChange={(v) =>\r\n                  onChange(direction, idx, \"avgElevationM\", v)\r\n                }\r\n              />\r\n            </td>\r\n          ))}\r\n        </tr>\r\n        <tr>\r\n          <th style={rowHeaderStyle}>차선수 [N]</th>\r\n          {colHeaders.map((n, idx) => (\r\n            <td key={n} style={tdStyle}>\r\n              <NumberCellInput\r\n                value={segments[idx]?.laneCount ?? \"\"}\r\n                onChange={(v) =>\r\n                  onChange(direction, idx, \"laneCount\", v)\r\n                }\r\n              />\r\n            </td>\r\n          ))}\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n\r\nfunction SummaryRow({ label, stats, traffic }) {\r\n  return (\r\n    <div style={{ marginTop: 12, fontSize: 13 }}>\r\n      <strong>{label}</strong> — 총 연장:{\" \"}\r\n      {stats.totalLengthM.toFixed(2)} m, 차선수(최대): {stats.lanes}, 추정교통량:{\" \"}\r\n      {traffic.estimatedVolume.toLocaleString()} 대/시간\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction NumberInput({ label, value, onChange }) {\r\n  return (\r\n    <label style={fieldLabel}>\r\n      {label}\r\n      <input\r\n        type=\"number\"\r\n        value={value}\r\n        onChange={(e) => onChange(e.target.value)}\r\n        style={inputStyle}\r\n      />\r\n    </label>\r\n  );\r\n}\r\n\r\nfunction NumberCellInput({ value, onChange }) {\r\n  return (\r\n    <input\r\n      type=\"number\"\r\n      value={value}\r\n      onChange={(e) => onChange(e.target.value)}\r\n      style={cellInputStyle}\r\n    />\r\n  );\r\n}\r\n\r\n// ---------- styles ----------\r\n\r\nconst cardStyle = {\r\n  border: \"1px solid #ccc\",\r\n  borderRadius: 8,\r\n  padding: 16,\r\n  marginBottom: 24\r\n};\r\n\r\nconst grid3 = {\r\n  display: \"grid\",\r\n  gridTemplateColumns: \"repeat(auto-fit, minmax(170px, 1fr))\",\r\n  gap: 12\r\n};\r\n\r\nconst tableStyle = {\r\n  width: \"100%\",\r\n  borderCollapse: \"collapse\",\r\n  marginTop: 8,\r\n  fontSize: 12\r\n};\r\n\r\nconst thStyle = {\r\n  borderBottom: \"1px solid #ccc\",\r\n  padding: \"4px 6px\",\r\n  textAlign: \"center\"\r\n};\r\n\r\nconst rowHeaderStyle = {\r\n  borderBottom: \"1px solid #eee\",\r\n  padding: \"2px 4px\",\r\n  textAlign: \"left\",\r\n  background: \"#fafafa\",\r\n  minWidth: 110\r\n};\r\n\r\nconst tdStyle = {\r\n  borderBottom: \"1px solid #eee\",\r\n  padding: \"2px 4px\",\r\n  textAlign: \"center\"\r\n};\r\n\r\nconst inputStyle = {\r\n  width: \"100%\",\r\n  padding: \"4px 6px\",\r\n  fontSize: 12\r\n};\r\n\r\nconst readOnlyInputStyle = {\r\n  ...inputStyle,\r\n  backgroundColor: \"#f3f3f3\",\r\n  color: \"#555\",\r\n  cursor: \"not-allowed\"\r\n};\r\n\r\nconst cellInputStyle = {\r\n  width: \"100%\",\r\n  padding: \"2px 4px\",\r\n  fontSize: 12,\r\n  boxSizing: \"border-box\"\r\n};\r\n\r\nconst selectStyle = {\r\n  width: \"100%\",\r\n  padding: \"4px 6px\",\r\n  fontSize: 12\r\n};\r\n\r\nconst fieldLabel = {\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  fontSize: 12,\r\n  gap: 2\r\n};\r\n\r\nconst hintText = {\r\n  marginTop: 8,\r\n  fontSize: 11,\r\n  color: \"#555\"\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}